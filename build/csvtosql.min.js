var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var he=b(($i,ke)=>{ke.exports=require("stream")});var Be=b((Ui,Ue)=>{"use strict";function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?We(Object(r),!0).forEach(function(i){Ht(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Vt(e,t,r){return t&&$e(e.prototype,t),r&&$e(e,r),e}var Yt=require("buffer"),J=Yt.Buffer,Kt=require("util"),ce=Kt.inspect,Qt=ce&&ce.custom||"inspect";function Xt(e,t,r){J.prototype.copy.call(e,t,r)}Ue.exports=function(){function e(){Gt(this,e),this.head=null,this.tail=null,this.length=0}return Vt(e,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return J.alloc(0);for(var i=J.allocUnsafe(r>>>0),n=this.head,a=0;n;)Xt(n.data,i,a),a+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,a=i.data;for(r-=a.length;i=i.next;){var o=i.data,f=r>o.length?o.length:r;if(f===o.length?a+=o:a+=o.slice(0,r),r-=f,r===0){f===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(f));break}++n}return this.length-=n,a}},{key:"_getBuffer",value:function(r){var i=J.allocUnsafe(r),n=this.head,a=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,f=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,f),r-=f,r===0){f===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(f));break}++a}return this.length-=a,i}},{key:Qt,value:function(r,i){return ce(this,Ft({},i,{depth:0,customInspect:!1}))}}]),e}()});var be=b((Bi,He)=>{"use strict";function Jt(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(pe,this,e)):process.nextTick(pe,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(z,r):(r._writableState.errorEmitted=!0,process.nextTick(Fe,r,a)):process.nextTick(Fe,r,a):t?(process.nextTick(z,r),t(a)):process.nextTick(z,r)}),this)}function Fe(e,t){pe(e,t),z(e)}function z(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function zt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function pe(e,t){e.emit("error",t)}function Zt(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}He.exports={destroy:Jt,undestroy:zt,errorOrDestroy:Zt}});var E=b((Fi,Ye)=>{"use strict";var Ge={};function _(e,t,r){r||(r=Error);function i(a,o,f){return typeof t=="string"?t:t(a,o,f)}class n extends r{constructor(o,f,u){super(i(o,f,u))}}n.prototype.name=r.name,n.prototype.code=e,Ge[e]=n}function Ve(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(i=>String(i)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function er(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function tr(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function rr(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}_("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);_("ERR_INVALID_ARG_TYPE",function(e,t,r){let i;typeof t=="string"&&er(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";let n;if(tr(e," argument"))n=`The ${e} ${i} ${Ve(t,"type")}`;else{let a=rr(e,".")?"property":"argument";n=`The "${e}" ${a} ${i} ${Ve(t,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");_("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});_("ERR_STREAM_PREMATURE_CLOSE","Premature close");_("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});_("ERR_MULTIPLE_CALLBACK","Callback called multiple times");_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");_("ERR_STREAM_WRITE_AFTER_END","write after end");_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);_("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ye.exports.codes=Ge});var _e=b((Hi,Ke)=>{"use strict";var ir=E().codes.ERR_INVALID_OPT_VALUE;function nr(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function ar(e,t,r,i){var n=nr(t,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var a=i?r:"highWaterMark";throw new ir(a,n)}return Math.floor(n)}return e.objectMode?16:16*1024}Ke.exports={getHighWaterMark:ar}});var Qe=b((Gi,ge)=>{typeof Object.create=="function"?ge.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ge.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var j=b((Vi,ve)=>{try{if(ye=require("util"),typeof ye.inherits!="function")throw"";ve.exports=ye.inherits}catch(e){ve.exports=Qe()}var ye});var Je=b((Yi,Xe)=>{Xe.exports=require("util").deprecate});var Ee=b((Ki,it)=>{"use strict";it.exports=c;function ze(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Dr(t,e)}}var I;c.WritableState=U;var or={deprecate:Je()},Ze=he(),Z=require("buffer").Buffer,fr=global.Uint8Array||function(){};function sr(e){return Z.from(e)}function lr(e){return Z.isBuffer(e)||e instanceof fr}var we=be(),ur=_e(),dr=ur.getHighWaterMark,S=E().codes,hr=S.ERR_INVALID_ARG_TYPE,cr=S.ERR_METHOD_NOT_IMPLEMENTED,pr=S.ERR_MULTIPLE_CALLBACK,br=S.ERR_STREAM_CANNOT_PIPE,_r=S.ERR_STREAM_DESTROYED,gr=S.ERR_STREAM_NULL_VALUES,yr=S.ERR_STREAM_WRITE_AFTER_END,vr=S.ERR_UNKNOWN_ENCODING,C=we.errorOrDestroy;j()(c,Ze);function wr(){}function U(e,t,r){I=I||L(),e=e||{},typeof r!="boolean"&&(r=t instanceof I),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=dr(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Or(t,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ze(this)}U.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(U.prototype,"buffer",{get:or.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(t){return ee.call(this,t)?!0:this!==c?!1:t&&t._writableState instanceof U}})):ee=function(t){return t instanceof this};function c(e){I=I||L();var t=this instanceof I;if(!t&&!ee.call(c,this))return new c(e);this._writableState=new U(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Ze.call(this)}c.prototype.pipe=function(){C(this,new br)};function Rr(e,t){var r=new yr;C(e,r),process.nextTick(t,r)}function Er(e,t,r,i){var n;return r===null?n=new gr:typeof r!="string"&&!t.objectMode&&(n=new hr("chunk",["string","Buffer"],r)),n?(C(e,n),process.nextTick(i,n),!1):!0}c.prototype.write=function(e,t,r){var i=this._writableState,n=!1,a=!i.objectMode&&lr(e);return a&&!Z.isBuffer(e)&&(e=sr(e)),typeof t=="function"&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=wr),i.ending?Rr(this,r):(a||Er(this,i,e,r))&&(i.pendingcb++,n=mr(this,i,a,e,t,r)),n};c.prototype.cork=function(){this._writableState.corked++};c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&tt(this,e))};c.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new vr(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Sr(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Z.from(t,r)),t}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function mr(e,t,r,i,n,a){if(!r){var o=Sr(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var f=t.objectMode?1:i.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Re(e,t,!1,f,i,n,a);return u}function Re(e,t,r,i,n,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _r("write")):r?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}function Tr(e,t,r,i,n){--t.pendingcb,r?(process.nextTick(n,i),process.nextTick(B,e,t),e._writableState.errorEmitted=!0,C(e,i)):(n(i),e._writableState.errorEmitted=!0,C(e,i),B(e,t))}function Mr(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Or(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new pr;if(Mr(r),t)Tr(e,r,i,t,n);else{var a=rt(r)||e.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&tt(e,r),i?process.nextTick(et,e,r,a,n):et(e,r,a,n)}}function et(e,t,r,i){r||Ar(e,t),t.pendingcb--,i(),B(e,t)}function Ar(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function tt(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var o=0,f=!0;r;)n[o]=r,r.isBuf||(f=!1),r=r.next,o+=1;n.allBuffers=f,Re(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new ze(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,s=r.encoding,p=r.callback,h=t.objectMode?1:u.length;if(Re(e,t,!1,h,u,s,p),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}c.prototype._write=function(e,t,r){r(new cr("_write()"))};c.prototype._writev=null;c.prototype.end=function(e,t,r){var i=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||Pr(this,i,r),this};Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rt(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Lr(e,t){e._final(function(r){t.pendingcb--,r&&C(e,r),t.prefinished=!0,e.emit("prefinish"),B(e,t)})}function qr(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(Lr,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function B(e,t){var r=rt(t);if(r&&(qr(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function Pr(e,t,r){t.ending=!0,B(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Dr(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});c.prototype.destroy=we.destroy;c.prototype._undestroy=we.undestroy;c.prototype._destroy=function(e,t){t(e)}});var L=b((Qi,at)=>{"use strict";var xr=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};at.exports=v;var nt=Te(),Se=Ee();j()(v,nt);for(me=xr(Se.prototype),te=0;te<me.length;te++)re=me[te],v.prototype[re]||(v.prototype[re]=Se.prototype[re]);var me,re,te;function v(e){if(!(this instanceof v))return new v(e);nt.call(this,e),Se.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Nr)))}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Nr(){this._writableState.ended||process.nextTick(jr,this)}function jr(e){e.end()}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var ie=b((Xi,st)=>{"use strict";var ot=E().codes.ERR_STREAM_PREMATURE_CLOSE;function Ir(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function Cr(){}function kr(e){return e.setHeader&&typeof e.abort=="function"}function ft(e,t,r){if(typeof t=="function")return ft(e,null,t);t||(t={}),r=Ir(r||Cr);var i=t.readable||t.readable!==!1&&e.readable,n=t.writable||t.writable!==!1&&e.writable,a=function(){e.writable||f()},o=e._writableState&&e._writableState.finished,f=function(){n=!1,o=!0,i||r.call(e)},u=e._readableState&&e._readableState.endEmitted,s=function(){i=!1,u=!0,n||r.call(e)},p=function(y){r.call(e,y)},h=function(){var y;if(i&&!u)return(!e._readableState||!e._readableState.ended)&&(y=new ot),r.call(e,y);if(n&&!o)return(!e._writableState||!e._writableState.ended)&&(y=new ot),r.call(e,y)},A=function(){e.req.on("finish",f)};return kr(e)?(e.on("complete",f),e.on("abort",h),e.req?A():e.on("request",A)):n&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",s),e.on("finish",f),t.error!==!1&&e.on("error",p),e.on("close",h),function(){e.removeListener("complete",f),e.removeListener("abort",h),e.removeListener("request",A),e.req&&e.req.removeListener("finish",f),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",f),e.removeListener("end",s),e.removeListener("error",p),e.removeListener("close",h)}}st.exports=ft});var ut=b((Ji,lt)=>{"use strict";var ne;function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wr=ie(),T=Symbol("lastResolve"),q=Symbol("lastReject"),F=Symbol("error"),ae=Symbol("ended"),P=Symbol("lastPromise"),Me=Symbol("handlePromise"),D=Symbol("stream");function M(e,t){return{value:e,done:t}}function $r(e){var t=e[T];if(t!==null){var r=e[D].read();r!==null&&(e[P]=null,e[T]=null,e[q]=null,t(M(r,!1)))}}function Ur(e){process.nextTick($r,e)}function Br(e,t){return function(r,i){e.then(function(){if(t[ae]){r(M(void 0,!0));return}t[Me](r,i)},i)}}var Fr=Object.getPrototypeOf(function(){}),Hr=Object.setPrototypeOf((ne={get stream(){return this[D]},next:function(){var t=this,r=this[F];if(r!==null)return Promise.reject(r);if(this[ae])return Promise.resolve(M(void 0,!0));if(this[D].destroyed)return new Promise(function(o,f){process.nextTick(function(){t[F]?f(t[F]):o(M(void 0,!0))})});var i=this[P],n;if(i)n=new Promise(Br(i,this));else{var a=this[D].read();if(a!==null)return Promise.resolve(M(a,!1));n=new Promise(this[Me])}return this[P]=n,n}},m(ne,Symbol.asyncIterator,function(){return this}),m(ne,"return",function(){var t=this;return new Promise(function(r,i){t[D].destroy(null,function(n){if(n){i(n);return}r(M(void 0,!0))})})}),ne),Fr),Gr=function(t){var r,i=Object.create(Hr,(r={},m(r,D,{value:t,writable:!0}),m(r,T,{value:null,writable:!0}),m(r,q,{value:null,writable:!0}),m(r,F,{value:null,writable:!0}),m(r,ae,{value:t._readableState.endEmitted,writable:!0}),m(r,Me,{value:function(a,o){var f=i[D].read();f?(i[P]=null,i[T]=null,i[q]=null,a(M(f,!1))):(i[T]=a,i[q]=o)},writable:!0}),r));return i[P]=null,Wr(t,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=i[q];a!==null&&(i[P]=null,i[T]=null,i[q]=null,a(n)),i[F]=n;return}var o=i[T];o!==null&&(i[P]=null,i[T]=null,i[q]=null,o(M(void 0,!0))),i[ae]=!0}),t.on("readable",Ur.bind(null,i)),i};lt.exports=Gr});var pt=b((zi,ct)=>{"use strict";function dt(e,t,r,i,n,a,o){try{var f=e[a](o),u=f.value}catch(s){r(s);return}f.done?t(u):Promise.resolve(u).then(i,n)}function Vr(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(u){dt(a,i,n,o,f,"next",u)}function f(u){dt(a,i,n,o,f,"throw",u)}o(void 0)})}}function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(r),!0).forEach(function(i){Kr(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qr=E().codes.ERR_INVALID_ARG_TYPE;function Xr(e,t,r){var i;if(t&&typeof t.next=="function")i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new Qr("iterable",["Iterable"],t);var n=new e(Yr({objectMode:!0},r)),a=!1;n._read=function(){a||(a=!0,o())};function o(){return f.apply(this,arguments)}function f(){return f=Vr(function*(){try{var u=yield i.next(),s=u.value,p=u.done;p?n.push(null):n.push(yield s)?o():a=!1}catch(h){n.destroy(h)}}),f.apply(this,arguments)}return n}ct.exports=Xr});var Te=b((en,mt)=>{"use strict";mt.exports=d;var k;d.ReadableState=_t;var Zi=require("events").EventEmitter,bt=function(t,r){return t.listeners(r).length},H=he(),oe=require("buffer").Buffer,Jr=global.Uint8Array||function(){};function zr(e){return oe.from(e)}function Zr(e){return oe.isBuffer(e)||e instanceof Jr}var Oe=require("util"),l;Oe&&Oe.debuglog?l=Oe.debuglog("stream"):l=function(){};var ei=Be(),Ae=be(),ti=_e(),ri=ti.getHighWaterMark,fe=E().codes,ii=fe.ERR_INVALID_ARG_TYPE,ni=fe.ERR_STREAM_PUSH_AFTER_EOF,ai=fe.ERR_METHOD_NOT_IMPLEMENTED,oi=fe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,W,Le,qe;j()(d,H);var G=Ae.errorOrDestroy,Pe=["error","close","destroy","pause","resume"];function fi(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function _t(e,t,r){k=k||L(),e=e||{},typeof r!="boolean"&&(r=t instanceof k),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=ri(this,e,"readableHighWaterMark",r),this.buffer=new ei,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(W||(W=require("string_decoder/").StringDecoder),this.decoder=new W(e.encoding),this.encoding=e.encoding)}function d(e){if(k=k||L(),!(this instanceof d))return new d(e);var t=this instanceof k;this._readableState=new _t(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),H.call(this)}Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});d.prototype.destroy=Ae.destroy;d.prototype._undestroy=Ae.undestroy;d.prototype._destroy=function(e,t){t(e)};d.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=oe.from(e,t),t=""),i=!0),gt(this,e,t,!1,i)};d.prototype.unshift=function(e){return gt(this,e,null,!0,!1)};function gt(e,t,r,i,n){l("readableAddChunk",t);var a=e._readableState;if(t===null)a.reading=!1,ui(e,a);else{var o;if(n||(o=si(a,t)),o)G(e,o);else if(a.objectMode||t&&t.length>0)if(typeof t!="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==oe.prototype&&(t=zr(t)),i)a.endEmitted?G(e,new oi):De(e,a,t,!0);else if(a.ended)G(e,new ni);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||t.length!==0?De(e,a,t,!1):xe(e,a)):De(e,a,t,!1)}else i||(a.reading=!1,xe(e,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function De(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&se(e)),xe(e,t)}function si(e,t){var r;return!Zr(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new ii("chunk",["string","Buffer","Uint8Array"],t)),r}d.prototype.isPaused=function(){return this._readableState.flowing===!1};d.prototype.setEncoding=function(e){W||(W=require("string_decoder/").StringDecoder);var t=new W(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var yt=1073741824;function li(e){return e>=yt?e=yt:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function vt(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=li(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}d.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?je(this):se(this),null;if(e=vt(e,t),e===0&&t.ended)return t.length===0&&je(this),null;var i=t.needReadable;l("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,l("length less than watermark",i)),t.ended||t.reading?(i=!1,l("reading or ended",i)):i&&(l("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=vt(r,t)));var n;return e>0?n=Et(e,t):n=null,n===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&je(this)),n!==null&&this.emit("data",n),n};function ui(e,t){if(l("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?se(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,wt(e)))}}function se(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(wt,e))}function wt(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Ne(e)}function xe(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(di,e,t))}function di(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}d.prototype._read=function(e){G(this,new ai("_read()"))};d.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var n=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,a=n?f:$;i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",o);function o(x,N){l("onunpipe"),x===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,p())}function f(){l("onend"),e.end()}var u=hi(r);e.on("drain",u);var s=!1;function p(){l("cleanup"),e.removeListener("close",w),e.removeListener("finish",y),e.removeListener("drain",u),e.removeListener("error",A),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",$),r.removeListener("data",h),s=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}r.on("data",h);function h(x){l("ondata");var N=e.write(x);l("dest.write",N),N===!1&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&St(i.pipes,e)!==-1)&&!s&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function A(x){l("onerror",x),$(),e.removeListener("error",A),bt(e,"error")===0&&G(e,x)}fi(e,"error",A);function w(){e.removeListener("finish",y),$()}e.once("close",w);function y(){l("onfinish"),e.removeListener("close",w),$()}e.once("finish",y);function $(){l("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(l("pipe resume"),r.resume()),e};function hi(e){return function(){var r=e._readableState;l("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&bt(e,"data")&&(r.flowing=!0,Ne(e))}}d.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=St(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};d.prototype.on=function(e,t){var r=H.prototype.on.call(this,e,t),i=this._readableState;return e==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):e==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?se(this):i.reading||process.nextTick(ci,this)),r};d.prototype.addListener=d.prototype.on;d.prototype.removeListener=function(e,t){var r=H.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(Rt,this),r};d.prototype.removeAllListeners=function(e){var t=H.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(Rt,this),t};function Rt(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function ci(e){l("readable nexttick read 0"),e.read(0)}d.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,pi(this,e)),e.paused=!1,this};function pi(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(bi,e,t))}function bi(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Ne(e),t.flowing&&!t.reading&&e.read(0)}d.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ne(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&e.read()!==null;);}d.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(l("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&t.push(o)}t.push(null)}),e.on("data",function(o){if(l("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var f=t.push(o);f||(i=!0,e.pause())}});for(var n in e)this[n]===void 0&&typeof e[n]=="function"&&(this[n]=function(f){return function(){return e[f].apply(e,arguments)}}(n));for(var a=0;a<Pe.length;a++)e.on(Pe[a],this.emit.bind(this,Pe[a]));return this._read=function(o){l("wrapped _read",o),i&&(i=!1,e.resume())},this};typeof Symbol=="function"&&(d.prototype[Symbol.asyncIterator]=function(){return Le===void 0&&(Le=ut()),Le(this)});Object.defineProperty(d.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(d.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(d.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});d._fromList=Et;Object.defineProperty(d.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Et(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function je(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(_i,t,e))}function _i(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(d.from=function(e,t){return qe===void 0&&(qe=pt()),qe(d,e,t)});function St(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}});var Ie=b((tn,Mt)=>{"use strict";Mt.exports=R;var le=E().codes,gi=le.ERR_METHOD_NOT_IMPLEMENTED,yi=le.ERR_MULTIPLE_CALLBACK,vi=le.ERR_TRANSFORM_ALREADY_TRANSFORMING,wi=le.ERR_TRANSFORM_WITH_LENGTH_0,ue=L();j()(R,ue);function Ri(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new yi);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function R(e){if(!(this instanceof R))return new R(e);ue.call(this,e),this._transformState={afterTransform:Ri.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Ei)}function Ei(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Tt(e,t,r)}):Tt(this,null,null)}R.prototype.push=function(e,t){return this._transformState.needTransform=!1,ue.prototype.push.call(this,e,t)};R.prototype._transform=function(e,t,r){r(new gi("_transform()"))};R.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};R.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};R.prototype._destroy=function(e,t){ue.prototype._destroy.call(this,e,function(r){t(r)})};function Tt(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new wi;if(e._transformState.transforming)throw new vi;return e.push(null)}});var Lt=b((rn,At)=>{"use strict";At.exports=V;var Ot=Ie();j()(V,Ot);function V(e){if(!(this instanceof V))return new V(e);Ot.call(this,e)}V.prototype._transform=function(e,t,r){r(null,e)}});var Nt=b((nn,xt)=>{"use strict";var Ce;function Si(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var qt=E().codes,mi=qt.ERR_MISSING_ARGS,Ti=qt.ERR_STREAM_DESTROYED;function Pt(e){if(e)throw e}function Mi(e){return e.setHeader&&typeof e.abort=="function"}function Oi(e,t,r,i){i=Si(i);var n=!1;e.on("close",function(){n=!0}),Ce===void 0&&(Ce=ie()),Ce(e,{readable:t,writable:r},function(o){if(o)return i(o);n=!0,i()});var a=!1;return function(o){if(!n&&!a){if(a=!0,Mi(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();i(o||new Ti("pipe"))}}}function Dt(e){e()}function Ai(e,t){return e.pipe(t)}function Li(e){return!e.length||typeof e[e.length-1]!="function"?Pt:e.pop()}function qi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Li(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new mi("streams");var n,a=t.map(function(o,f){var u=f<t.length-1,s=f>0;return Oi(o,u,s,function(p){n||(n=p),p&&a.forEach(Dt),!u&&(a.forEach(Dt),i(n))})});return t.reduce(Ai)}xt.exports=qi});var jt=b((g,K)=>{var Y=require("stream");process.env.READABLE_STREAM==="disable"&&Y?(K.exports=Y.Readable,Object.assign(K.exports,Y),K.exports.Stream=Y):(g=K.exports=Te(),g.Stream=Y||g,g.Readable=g,g.Writable=Ee(),g.Duplex=L(),g.Transform=Ie(),g.PassThrough=Lt(),g.finished=ie(),g.pipeline=Nt())});var Wt=b((an,kt)=>{"use strict";var{Transform:Pi}=jt(),{StringDecoder:Di}=require("string_decoder"),O=Symbol("last"),de=Symbol("decoder");function xi(e,t,r){var i;if(this.overflow){var n=this[de].write(e);if(i=n.split(this.matcher),i.length===1)return r();i.shift(),this.overflow=!1}else this[O]+=this[de].write(e),i=this[O].split(this.matcher);this[O]=i.pop();for(var a=0;a<i.length;a++)try{It(this,this.mapper(i[a]))}catch(o){return r(o)}if(this.overflow=this[O].length>this.maxLength,this.overflow&&!this.skipOverflow)return r(new Error("maximum buffer reached"));r()}function Ni(e){if(this[O]+=this[de].end(),this[O])try{It(this,this.mapper(this[O]))}catch(t){return e(t)}e()}function It(e,t){t!==void 0&&e.push(t)}function Ct(e){return e}function ji(e,t,r){switch(e=e||/\r?\n/,t=t||Ct,r=r||{},arguments.length){case 1:typeof e=="function"?(t=e,e=/\r?\n/):typeof e=="object"&&!(e instanceof RegExp)&&(r=e,e=/\r?\n/);break;case 2:typeof e=="function"?(r=t,t=e,e=/\r?\n/):typeof t=="object"&&(r=t,t=Ct)}r=Object.assign({},r),r.transform=xi,r.flush=Ni,r.readableObjectMode=!0;let i=new Pi(r);return i[O]="",i[de]=new Di("utf8"),i.matcher=e,i.mapper=t,i.maxLength=r.maxLength,i.skipOverflow=r.skipOverflow,i.overflow=!1,i}kt.exports=ji});var $t=b((on,Ii)=>{Ii.exports={name:"csvtosql",version:"1.0.0",main:"csvtosql.js",description:"Convert CSV to SQLite",scripts:{lint:"npx eslint csvtosql.js",test:"tap --no-coverage --reporter=specy -J --color","test:coverage":"npm test -- --coverage-report=html","dump:sqlite":"sqlite3 example/de1_0_2009_beneficiary_summary_file_sample_1.db -init example/de1_0_2009_beneficiary_summary_file_sample_1.sql","build:node":"esbuild csvtosql.js --bundle --minify --platform=node --target=node10.4 --outfile=build/csvtosql.min.js","build:binary":"pkg package.json",build:"npm run build:node && npm run build:binary"},keywords:[],author:"hawyar",license:"ISC",devDependencies:{eslint:"^7.32.0",tap:"^15.0.9"},dependencies:{esbuild:"^0.13.1",split2:"^3.2.2"},pkg:{outputPath:"build/binary"},bin:"build/csvtosql.js"}});var Q=require("fs"),Ci=Wt(),ki=require("events"),X=$t(),Ut=new ki.EventEmitter;(()=>{let e={_init:new Date,args:process.argv};Bt.call(e),Ut.on("start",()=>console.log("starting conversion"))})();async function Bt(){let{args:e}=this,t=()=>process.stdout.write(` 
	${X.name} v${X.version}
	${X.description}
Usage:
  	--source | -s [dir] select the source file or directory
  	--help | -h [dir] get help
  	--version | -v [dir] get the current version
  	
`);(e.length<3||e.find(s=>s==="--help"||s==="-h"))&&(t(),process.exit(0)),e.find(s=>s==="--version"||s==="-v")&&(process.stdout.write(`${X.name} v${X.version}
`),process.exit(0)),e.find(s=>s==="--source"||s==="-s")&&(this.source=e[e.indexOf("--source")+1]||e[e.indexOf("-s")+1],this.tableName=this.source.split("/").pop().split(".")[0].toLowerCase()),this.source.endsWith(".csv")?(this.tableName=this.source.split("/").pop().split(".")[0].toLowerCase(),console.log(`source: ${this.source}`)):(process.stdout.write("Please include a valid csv file path"),process.exit(1)),Q.access(this.source,Q.constants.R_OK|Q.constants.W_OK,s=>{if(this.source===void 0||s)throw new Error(`${this.source} is not readable or writable 
 ${s}
`)});let r=/^[0-9]+$/,i=/^(true|false)$/,n=/^$/,a=0;this.statement="";let o=Q.createReadStream(this.source).pipe(Ci());o.on("data",s=>{if(a===0&&(this.headers=s.split(",").map(p=>({name:u(p.toLowerCase()),type:""}))),a===1)s.split(",").forEach((p,h)=>{this.headers[h].type="TEXT"});else{let p=s.split(",").map(h=>{switch(h){case h.match(n):return"NULL";case h.match(r):return`${u(h)}`;case h.match(i):return`${u(h)}`;default:return`'${u(h)}'`}});this.statement+=`INSERT INTO ${this.tableName} (${this.headers.map(h=>h.name)}) VALUES (${p});
`,s.split(",").find(h=>h==="''")&&console.log(`empty value in line ${a}`)}a++}).on("end",()=>{console.log(`${this.headers.length} headers found`),console.log(`${a} lines processed`),console.log(`${new Date().getTime()-this._init.getTime()} ms elapsed`);let s=f();Q.writeFile(`./example/${this.tableName}.sql`,s,p=>{if(p)throw p;console.log("SQL file created")}),o.destroy()}).once("readable",()=>{Ut.emit("start")}).on("error",s=>{throw new Error(s)});let f=()=>{let s=this.headers.map(h=>`${h.name.replace(/\n/g,"")} ${h.type}`);return`${`CREATE TABLE IF NOT EXISTS ${this.tableName} (${s})`};
${this.statement}`},u=s=>s.trim().replace(/^"(.*)"$/,"$1")}module.exports=Bt;
